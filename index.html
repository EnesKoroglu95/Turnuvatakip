fetch(SHEET_URL)
  .then(res => res.json())
  .then(data => {

    const groupData = data.filter(r => r.grup === CURRENT_GROUP);

    // SOL KUTU
    document.getElementById("groupBox").innerText = CURRENT_GROUP;

    // KARŞILAŞMALAR
    const matches = document.getElementById("matchesBody");
    matches.innerHTML = "";

    groupData.forEach((r,i)=>{
      matches.innerHTML += `
        <tr class="${i%2===0?'green':''}">
          <td class="name">${r.oyuncu}</td>
          <td>${r.skor || ""}</td>
          <td>${r.mac_puani || ""}</td>
          <td>${r.alinan_sayi || ""}</td>
          <td>${r.gereken_sayi || ""}</td>
          <td>${r.averaj || ""}</td>
          <td>${r.eys1 || ""}</td>
          <td>${r.eys2 || ""}</td>
        </tr>
      `;
    });

    // SPORCULAR (TEKRARSIZ)
    const players = [...new Set(groupData.map(r => r.oyuncu))];
    const playersBody = document.getElementById("playersBody");
    playersBody.innerHTML = "";

    players.forEach(p=>{
      playersBody.innerHTML += `
        <tr>
          <td class="name">${p}</td>
          <td></td><td></td><td></td><td></td><td></td><td></td><td></td>
        </tr>
      `;
    });

});
