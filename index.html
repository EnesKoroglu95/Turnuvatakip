<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Turnuva Takip</title>

<style>
body{
    font-family: Arial, sans-serif;
    margin:0;
    background:#f4f4f4;
}
.header{
    background:#c80000;
    padding:10px;
    text-align:center;
}
.header span{
    background:#0b5ed7;
    color:white;
    padding:6px 20px;
    border-radius:6px;
    font-weight:bold;
}
.controls{
    text-align:center;
    margin:20px;
}
table{
    border-collapse:collapse;
    margin:auto;
    width:90%;
    background:white;
}
th, td{
    border:1px solid #000;
    padding:4px;
    font-size:13px;
    text-align:center;
}
th{
    background:#e6f0ff;
}
.name{
    text-align:left;
    padding-left:6px;
}
tr:nth-child(even) td{
    background:#e8fff0;
}
.hidden{
    display:none;
}
</style>
</head>

<body>

<div class="header">
    <span>TURNÃœVA TAKÄ°P</span>
</div>

<div class="controls">
    Oyuncu Ara:
    <input type="text" id="playerInput" placeholder="Oyuncu AdÄ± SoyadÄ±">
    <button onclick="searchPlayer()">Bul</button>
</div>

<table>
<thead>
<tr>
    <th>KarÅŸÄ±laÅŸmalar</th>
    <th>Skor</th>
    <th>MP</th>
    <th>AlÄ±nan</th>
    <th>Gereken</th>
    <th>Averaj</th>
    <th>EYS1</th>
    <th>EYS2</th>
</tr>
</thead>
<tbody id="tableBody"></tbody>
</table>

<script>
// ðŸ”´ GOOGLE SHEETS CSV (YAYINLANMIÅž)
const CSV_URL =
"https://docs.google.com/spreadsheets/d/e/2PACX-1vQ359o8xV7eUC94-244P9_A83mf5-iSYA7HNQq9sNyvk-w1iP8dCVokASwjLRaFBL-t0Hkf1wxFuq9u/pub?output=csv";

let allRows = [];

fetch(CSV_URL)
.then(res => res.text())
.then(text => {
    const rows = text.split("\n").map(r => r.split(","));
    // BaÅŸlÄ±k satÄ±rlarÄ±nÄ± atla
    allRows = rows.slice(1);
});

function searchPlayer(){
    const name = document.getElementById("playerInput").value.trim().toUpperCase();
    const tbody = document.getElementById("tableBody");
    tbody.innerHTML = "";

    if(!name){
        alert("Oyuncu adÄ± gir");
        return;
    }

    const results = allRows.filter(r => r[1] && r[1].toUpperCase().includes(name));

    if(results.length === 0){
        alert("Oyuncu bulunamadÄ±");
        return;
    }

    results.forEach(r => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
            <td class="name">${r[1]}</td>
            <td>${r[2] || ""}</td>
            <td>${r[3] || ""}</td>
            <td>${r[4] || ""}</td>
            <td>${r[5] || ""}</td>
            <td>${r[6] || ""}</td>
            <td>${r[7] || ""}</td>
            <td>${r[8] || ""}</td>
        `;
        tbody.appendChild(tr);
    });
}
</script>

</body>
</html>
